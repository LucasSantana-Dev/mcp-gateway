# Environment Configuration Example for UIForge Projects
# Copy this file to .env.shared and customize for your project
# Create environment-specific overrides in .env.development, .env.production, or .env.local

# =============================================================================
# QUICK START GUIDE
# =============================================================================
# 1. Copy this file to .env.shared:
#    cp .env.example .env.shared
#
# 2. Generate strong secrets:
#    make generate-secrets
#
# 3. Create environment-specific overrides (optional):
#    cp .env.development.example .env.development
#    cp .env.production.example .env.production
#
# 4. Start the services:
#    make start
#
# For detailed setup instructions, see:
# - docs/ENVIRONMENT_CONFIGURATION.md
# - docs/IDE_SETUP_GUIDE.md

# =============================================================================
# REQUIRED CONFIGURATION
# =============================================================================

# Gateway host and port
GATEWAY_HOST=0.0.0.0
GATEWAY_PORT=4444

# Database (SQLite by default)
DATABASE_URL=sqlite:////data/mcp.db

# =============================================================================
# AUTHENTICATION & SECURITY (REQUIRED)
# =============================================================================
# Generate strong secrets with: make generate-secrets
JWT_SECRET_KEY=REPLACE_WITH_STRONG_SECRET_32_CHARS_MIN
AUTH_ENCRYPTION_SECRET=REPLACE_WITH_STRONG_SECRET_32_CHARS_MIN

# Platform administrator (change for production)
PLATFORM_ADMIN_EMAIL=admin@example.com
PLATFORM_ADMIN_PASSWORD=REPLACE_ME
PLATFORM_ADMIN_FULL_NAME="Platform Administrator"

# Authentication settings
AUTH_REQUIRED=true
SECURE_COOKIES=false

# =============================================================================
# MCP GATEWAY FEATURES
# =============================================================================
MCPGATEWAY_UI_ENABLED=true
MCPGATEWAY_ADMIN_API_ENABLED=true

# =============================================================================
# SERVICE PORTS
# =============================================================================
# Core Services
FORGE_SERVICE_MANAGER_PORT=9000
FORGE_TRANSLATE_PORT=8000
FORGE_TOOL_ROUTER_PORT=8030
FORGE_UI_PORT=8026

# AI Configuration
ROUTER_AI_ENABLED=false
ROUTER_AI_PROVIDER=ollama
ROUTER_AI_MODEL=llama3.2:3b
ROUTER_AI_ENDPOINT=http://ollama:11434
ROUTER_AI_TIMEOUT_MS=2000
ROUTER_AI_WEIGHT=0.7
OLLAMA_PORT=11434

# =============================================================================
# FEATURE TOGGLES
# =============================================================================
# Core Features
FEATURE_CORE_AI_ROUTER=true
FEATURE_CORE_HYBRID_SCORING=true
FEATURE_CORE_TOOL_SEARCH=true
FEATURE_CORE_EXECUTE_TASK=true

# API Features
FEATURE_API_HEALTH=true
FEATURE_API_METRICS=true
FEATURE_API_LIFECYCLE=true
FEATURE_API_IDE_CONFIG=true
FEATURE_API_FEATURES=true

# Tool Features
FEATURE_TOOL_LIST_SERVERS=true
FEATURE_TOOL_GET_SERVER_STATUS=true
FEATURE_TOOL_ENABLE_SERVER=true
FEATURE_TOOL_DISABLE_SERVER=true

# UI Features
FEATURE_UI_WEB_ADMIN=true
FEATURE_UI_FEATURE_TOGGLES=true
FEATURE_UI_SERVER_MANAGEMENT=true
FEATURE_UI_GATEWAY_MONITORING=true

# =============================================================================
# OPTIONAL: ADVANCED CONFIGURATION
# =============================================================================

# AI Routing Settings
ROUTER_AI_TIMEOUT_MS=10000
ROUTER_AI_WEIGHT=0.7
ROUTER_AI_MIN_CONFIDENCE=0.3
OLLAMA_KEEP_ALIVE=false

# Performance Settings
FORGE_MAX_REQUEST_SIZE=10MB
FORGE_REQUEST_TIMEOUT=30
FORGE_ENABLE_RATE_LIMITING=true
FORGE_RATE_LIMIT_REQUESTS=100
FORGE_RATE_LIMIT_WINDOW=1m

# Docker Configuration
COMPOSE_PROJECT_NAME=forge-mcp-gateway
DOCKER_REGISTRY=localhost:5000
DOCKER_TAG_PREFIX=latest

# Logging
LOG_LEVEL=INFO
FORGE_LOG_LEVEL=INFO
FORGE_ENABLE_METRICS=true
FORGE_ENABLE_HEALTH_CHECK=true

# =============================================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# =============================================================================
# Create these files for environment-specific settings:
# - .env.development: Development configuration
# - .env.production: Production configuration
# - .env.local: Personal/local overrides

# Development example (add to .env.development):
# LOG_LEVEL=DEBUG
# AUTH_REQUIRED=false
# SECURE_COOKIES=false

# Production example (add to .env.production):
# LOG_LEVEL=INFO
# AUTH_REQUIRED=true
# SECURE_COOKIES=true
# NODE_ENV=production

# =============================================================================
# IDE CONFIGURATION NOTE
# =============================================================================
# Stack-specific API keys should be configured in your IDE's mcp.json file:
# - TAVILY_API_KEY
# - SNYK_TOKEN
# - GITHUB_PERSONAL_ACCESS_TOKEN
# - POSTGRES_CONNECTION_STRING
# - MONGODB_CONNECTION_STRING
# - FIGMA_ACCESS_TOKEN

# Example IDE configuration (~/.cursor/mcp.json):
# {
#   "mcpServers": {
#     "forge-mcp-gateway": {
#       "command": "npx",
#       "args": ["@forge-mcp-gateway/client"],
#       "env": {
#         "TAVILY_API_KEY": "your-api-key-here",
#         "SNYK_TOKEN": "your-snyk-token-here"
#       }
#     }
#   }
# }

# See docs/IDE_SETUP_GUIDE.md for detailed configuration examples.
