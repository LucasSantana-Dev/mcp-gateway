#!/bin/bash
# pre-commit hook - forge-patterns gate
set -euo pipefail
FAILED=0
if [ -f "pyproject.toml" ] || [ -f "requirements.txt" ]; then
  if command -v ruff &>/dev/null; then
    ruff check . || FAILED=1
  fi
fi
if [ -f "package.json" ]; then
  npx lint-staged || FAILED=1
fi
if [ -f "tsconfig.json" ]; then
  npx tsc --noEmit || FAILED=1
fi
[ $FAILED -eq 0 ] || exit 1
